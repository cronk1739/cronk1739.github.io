<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Studies â€” App</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body{font-family:var(--desktop-font, system-ui, -apple-system, 'Segoe UI', Roboto, Arial);margin:24px;color:#111}
    .app-wrap{max-width:900px;margin:0 auto}
    .app-title{font-size:20px;font-weight:700;margin-bottom:12px}
    .blank-paragraph{min-height:200px;border:1px dashed #ddd;padding:12px;border-radius:6px;background:#fff}
  </style>
</head>
<body>
  <div class="app-wrap">
    <div class="app-title">Studies</div>
    <div id="last-edited" style="font-size:12px;color:#666;margin-bottom:12px"></div>
    <article id="article" class="blank-paragraph" aria-live="polite">
      <!-- blank paragraph for manual edits in the HTML source -->
      <p id="manual-paragraph">meow meow</p>
    </article>
  </div>
</body>
</html>

<script>
  (function(){
    const STORAGE_KEY = 'studies-article';
    const articleEl = document.getElementById('article');
    const lastEl = document.getElementById('last-edited');
    try{
      const raw = localStorage.getItem(STORAGE_KEY);
      if(raw){
        const data = JSON.parse(raw);
        if(data && data.html){ articleEl.innerHTML = data.html; }
        if(data && data.t){ lastEl.textContent = 'Last edited: ' + (new Date(data.t)).toLocaleString(); }
      } else {
        // if there is no stored article, preserve any existing manual paragraph in the source
        if(!articleEl.innerHTML || articleEl.innerHTML.trim() === ''){
          articleEl.innerHTML = '<p>No article published yet.</p>';
        }
        lastEl.textContent = '';
      }
    }catch(e){ articleEl.textContent = 'No content available.'; lastEl.textContent = ''; }
  })();
</script>
